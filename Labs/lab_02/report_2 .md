# Отчет по лабораторной работе №2
**Автор:** Овезов Мерген  
**Группа:** НБИбд-02-23  

---

## Цель работы
Изучить работу с правами доступа и атрибутами файлов и директорий в Linux, а также закрепить навыки управления ими с помощью командной строки.

---

## Ход выполнения работы

### 1. Проверка расширенных атрибутов директорий в `/home`
```bash
$ lsattr /home
---------------- /home/guest
---------------- /home/user1
---------------- /home/user2
```
- Атрибутов `i` или `a` на поддиректориях нет.
- Атрибуты директорий других пользователей видны, но изменить их нельзя.

---

### 2. Создание поддиректории `dir1` в домашнем каталоге
```bash
$ mkdir ~/dir1
$ ls -ld ~/dir1
drwxr-xr-x 2 guest guest 4096 сен  5 22:15 /home/guest/dir1

$ lsattr ~/dir1
---------------- /home/guest/dir1
```
- Права: `drwxr-xr-x` (владелец — полный доступ, группа и остальные — чтение и вход).
- Атрибутов нет.

---

### 3. Снятие атрибутов с директории
```bash
$ chattr -i -a -R ~/dir1
$ lsattr ~/dir1
---------------- /home/guest/dir1
```
- Атрибуты `i` (immutable) и `a` (append only) отсутствуют.

---

### 4. Попытка создания файла в `dir1`
```bash
$ echo "test" > ~/dir1/file1
$ ls -l ~/dir1
-rw-r--r-- 1 guest guest 5 сен  5 22:17 file1
```
- Файл успешно создан, так как у владельца директории есть права `w` и `x`.

---

### 5. Проверка отказа при недостаточных правах
```bash
$ chmod u-w ~/dir1
$ echo "fail" > ~/dir1/file2
bash: /home/guest/dir1/file2: Permission denied
```
- Отказ из-за отсутствия права на запись в директорию.
- Для успешного создания файла нужно вернуть право `w`:
```bash
$ chmod u+w ~/dir1
$ echo "ok" > ~/dir1/file2
```

---

## Таблица 2.1 — Установленные права и разрешённые действия

| Права на директорию | Просмотр (`ls`) | Вход (`cd`) | Чтение файла (`cat`) | Создание файла | Удаление файла |
|---------------------|-----------------|-------------|----------------------|----------------|----------------|
| --- (000)           | –               | –           | –                    | –              | –              |
| --x (001)           | –               | +           | +                    | –              | –              |
| -w- (010)           | –               | –           | –                    | –              | –              |
| -wx (011)           | –               | +           | +                    | +              | +              |
| r-- (100)           | +               | –           | –                    | –              | –              |
| r-x (101)           | +               | +           | +                    | –              | –              |
| rw- (110)           | +               | –           | –                    | +              | +              |
| rwx (111)           | +               | +           | +                    | +              | +              |

---

## Таблица 2.2 — Минимальные права для совершения операций

| Операция                | Права на директорию | Права на файл |
|-------------------------|---------------------|---------------|
| Создание файла          | w + x               | —             |
| Удаление файла          | w + x               | —             |
| Чтение файла            | x                   | r             |
| Запись в файл           | x                   | w             |
| Перемещение файла       | w + x               | —             |
| Создание поддиректории  | w + x               | —             |
| Удаление поддиректории  | w + x               | x             |

---

## Выводы
В ходе работы были изучены и проверены на практике:
- Права доступа к директориям и файлам.
- Расширенные атрибуты (`lsattr`, `chattr`).
- Минимальные права для выполнения различных операций.
- Причины отказа в доступе при недостаточных правах и способы их устранения.
```
